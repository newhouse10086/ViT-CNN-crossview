<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .innovation-box { fill: #e1f5fe; stroke: #01579b; stroke-width: 3; }
      .process-box { fill: #fff3e0; stroke: #e65100; stroke-width: 2; }
      .decision-box { fill: #fff9c4; stroke: #f57f17; stroke-width: 2; }
      .output-box { fill: #e8f5e8; stroke: #1b5e20; stroke-width: 2; }
      .analysis-box { fill: #fce4ec; stroke: #880e4f; stroke-width: 2; }
      .text { font-family: "Microsoft YaHei", Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .title-text { font-family: "Microsoft YaHei", Arial, sans-serif; font-size: 13px; font-weight: bold; text-anchor: middle; }
      .small-text { font-family: "Microsoft YaHei", Arial, sans-serif; font-size: 9px; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .decision-arrow { stroke: #f57f17; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- æ ‡é¢˜ -->
  <text x="700" y="30" class="title-text" font-size="18" fill="#01579b">FSRA_IMPROVED åˆ›æ–°æ¨¡å—è¯¦è§£</text>
  <text x="700" y="50" class="text" fill="#666">ç¤¾åŒºèšç±» + PCAå¯¹é½ æ·±åº¦å‰–æ</text>
  
  <!-- è¾“å…¥ -->
  <rect x="550" y="80" width="300" height="60" rx="10" class="process-box"/>
  <text x="700" y="105" class="title-text">ç‰¹å¾å›¾è¾“å…¥</text>
  <text x="700" y="120" class="small-text">å½¢çŠ¶: (B, 64, 512)</text>
  <text x="700" y="135" class="small-text">B=æ‰¹æ¬¡å¤§å°, 64=ç©ºé—´ä½ç½®</text>
  
  <!-- é€æ ·æœ¬å¤„ç† -->
  <rect x="550" y="180" width="300" height="40" rx="10" class="process-box"/>
  <text x="700" y="200" class="title-text">é€æ ·æœ¬å¤„ç†</text>
  <text x="700" y="215" class="small-text">å¾ªç¯: b âˆˆ [0, B-1]</text>
  
  <!-- ç¤¾åŒºèšç±»æ¨¡å— -->
  <rect x="50" y="260" width="600" height="80" rx="15" class="innovation-box"/>
  <text x="350" y="285" class="title-text" font-size="16">ğŸ”¬ ç¤¾åŒºèšç±»æ¨¡å—</text>
  <text x="350" y="305" class="title-text">åˆ›æ–°ç‚¹1: åŸºäºå›¾çš„èšç±»</text>
  <text x="350" y="320" class="text">è¾“å…¥: (64, 512) â†’ è¾“å‡º: (3, 512)</text>
  <text x="350" y="335" class="small-text">åŸºäºç‰¹å¾ç›¸ä¼¼åº¦çš„è‡ªé€‚åº”åŒºåŸŸå‘ç°</text>
  
  <!-- ç¤¾åŒºèšç±»æ­¥éª¤ -->
  <rect x="50" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="120" y="400" class="text">ç‰¹å¾å½’ä¸€åŒ–</text>
  <text x="120" y="415" class="small-text">L2å½’ä¸€åŒ–</text>
  <text x="120" y="430" class="small-text">å½¢çŠ¶: (64, 512)</text>
  
  <rect x="220" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="290" y="400" class="text">ç›¸ä¼¼åº¦çŸ©é˜µ</text>
  <text x="290" y="415" class="small-text">ä½™å¼¦ç›¸ä¼¼åº¦</text>
  <text x="290" y="430" class="small-text">å½¢çŠ¶: (64, 64)</text>
  
  <polygon points="420,380 500,380 520,410 500,440 420,440 400,410" class="decision-box"/>
  <text x="460" y="405" class="text">é˜ˆå€¼åˆ¤æ–­</text>
  <text x="460" y="420" class="small-text">â‰¥ 0.5?</text>
  
  <rect x="550" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="620" y="400" class="text">ç¤¾åŒºæ£€æµ‹</text>
  <text x="620" y="415" class="small-text">Louvainç®—æ³•</text>
  <text x="620" y="430" class="small-text">è¾“å‡º: ç¤¾åŒºåˆ—è¡¨</text>
  
  <!-- åå¤‡å†³ç­– -->
  <polygon points="420,480 500,480 520,510 500,540 420,540 400,510" class="decision-box"/>
  <text x="460" y="505" class="text">ç¤¾åŒºæ£€æµ‹</text>
  <text x="460" y="520" class="small-text">æˆåŠŸ?</text>
  
  <rect x="300" y="580" width="120" height="50" rx="5" class="process-box"/>
  <text x="360" y="600" class="text">Louvainèšç±»</text>
  <text x="360" y="615" class="small-text">è‡ªé€‚åº”</text>
  
  <rect x="450" y="580" width="120" height="50" rx="5" class="process-box"/>
  <text x="510" y="600" class="text">K-meansèšç±»</text>
  <text x="510" y="615" class="small-text">åå¤‡æ–¹æ¡ˆK=3</text>
  
  <!-- ç‰¹å¾èšåˆ -->
  <rect x="350" y="670" width="160" height="50" rx="5" class="process-box"/>
  <text x="430" y="690" class="text">ç‰¹å¾èšåˆ</text>
  <text x="430" y="705" class="small-text">å‡å€¼æ± åŒ–: (3, 512)</text>
  
  <!-- PCAå¯¹é½æ¨¡å— -->
  <rect x="750" y="260" width="600" height="80" rx="15" class="innovation-box"/>
  <text x="1050" y="285" class="title-text" font-size="16">ğŸ“Š PCAå¯¹é½æ¨¡å—</text>
  <text x="1050" y="305" class="title-text">åˆ›æ–°ç‚¹2: ç‰¹å¾å¯¹é½</text>
  <text x="1050" y="320" class="text">è¾“å…¥: (3, 512) â†’ è¾“å‡º: (3, 256)</text>
  <text x="1050" y="335" class="small-text">è·¨è§†è§’ç»´åº¦ä¸€è‡´æ€§</text>
  
  <!-- PCAæ­¥éª¤ -->
  <rect x="750" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="820" y="400" class="text">ç»´åº¦æ£€æŸ¥</text>
  <text x="820" y="415" class="small-text">è¾“å…¥: (3, 512)</text>
  <text x="820" y="430" class="small-text">ç›®æ ‡: 256</text>
  
  <polygon points="920,380 1000,380 1020,410 1000,440 920,440 900,410" class="decision-box"/>
  <text x="960" y="400" class="text">æ ·æœ¬å……è¶³</text>
  <text x="960" y="415" class="small-text">åˆ¤æ–­?</text>
  <text x="960" y="430" class="small-text">n â‰¥ 2</text>
  
  <rect x="1050" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="1120" y="400" class="text">åŠ¨æ€PCA</text>
  <text x="1120" y="415" class="small-text">ç»„ä»¶æ•° =</text>
  <text x="1120" y="430" class="small-text">min(3, 512, 256)</text>
  
  <rect x="1220" y="380" width="140" height="60" rx="5" class="process-box"/>
  <text x="1290" y="400" class="text">ç›´æ¥æˆªæ–­</text>
  <text x="1290" y="415" class="small-text">ç‰¹å¾[:, :256]</text>
  <text x="1290" y="430" class="small-text">åå¤‡æ–¹æ³•</text>
  
  <!-- PCAå˜æ¢ -->
  <rect x="1050" y="480" width="140" height="50" rx="5" class="process-box"/>
  <text x="1120" y="500" class="text">PCAå˜æ¢</text>
  <text x="1120" y="515" class="small-text">sklearn.PCA</text>
  
  <rect x="1220" y="480" width="140" height="50" rx="5" class="process-box"/>
  <text x="1290" y="500" class="text">å¡«å……/æˆªæ–­</text>
  <text x="1290" y="515" class="small-text">ç¡®ä¿ç›®æ ‡ç»´åº¦</text>
  
  <!-- æœ€ç»ˆå¯¹é½ -->
  <rect x="1100" y="570" width="160" height="50" rx="5" class="output-box"/>
  <text x="1180" y="590" class="text">ç»´åº¦å¯¹é½</text>
  <text x="1180" y="605" class="small-text">æœ€ç»ˆ: (3, 256)</text>
  
  <!-- å¤æ‚åº¦åˆ†æ -->
  <rect x="50" y="780" width="600" height="120" rx="10" class="analysis-box"/>
  <text x="350" y="805" class="title-text" fill="#880e4f">ğŸ“ˆ è®¡ç®—å¤æ‚åº¦åˆ†æ</text>
  <text x="70" y="825" class="small-text" fill="#333">â€¢ ç›¸ä¼¼åº¦çŸ©é˜µ: O(64Â²) = 4,096 æ¬¡æ“ä½œ/æ ·æœ¬</text>
  <text x="70" y="840" class="small-text" fill="#333">â€¢ ç¤¾åŒºæ£€æµ‹: O(EÃ—log(V)) å…¶ä¸­E=è¾¹æ•°, V=64ä¸ªé¡¶ç‚¹</text>
  <text x="70" y="855" class="small-text" fill="#333">â€¢ PCAæ‹Ÿåˆ: O(min(n,p)Ã—pÂ²) å…¶ä¸­n=3, p=512</text>
  <text x="70" y="870" class="small-text" fill="#333">â€¢ æ¯æ ·æœ¬æ€»è®¡: ~20Kæ¬¡æ“ä½œ</text>
  <text x="70" y="885" class="small-text" fill="#333">â€¢ æ‰¹æ¬¡å¤æ‚åº¦: B Ã— 20Kæ¬¡æ“ä½œ (çº¿æ€§æ‰©å±•)</text>
  
  <!-- å†…å­˜åˆ†æ -->
  <rect x="750" y="780" width="600" height="120" rx="10" class="analysis-box"/>
  <text x="1050" y="805" class="title-text" fill="#880e4f">ğŸ’¾ å†…å­˜ä½¿ç”¨åˆ†æ</text>
  <text x="770" y="825" class="small-text" fill="#333">â€¢ ç›¸ä¼¼åº¦çŸ©é˜µ: 64Ã—64Ã—4 = 16KB/æ ·æœ¬</text>
  <text x="770" y="840" class="small-text" fill="#333">â€¢ NetworkXå›¾: ~5KB/æ ·æœ¬ (ä¸´æ—¶)</text>
  <text x="770" y="855" class="small-text" fill="#333">â€¢ PCAæ¨¡å‹: ~1MB/å®ä¾‹ (å…±äº«)</text>
  <text x="770" y="870" class="small-text" fill="#333">â€¢ æ¯æ‰¹æ¬¡æ€»è®¡: BÃ—(16KB + 5KB) + 1MB</text>
  <text x="770" y="885" class="small-text" fill="#333">â€¢ å†…å­˜ä¼˜åŒ–: æ¯æ ·æœ¬å¤„ç†åæ¸…ç†å›¾å¯¹è±¡</text>
  
  <!-- ç®­å¤´ -->
  <line x1="700" y1="140" x2="700" y2="180" class="arrow"/>
  <line x1="700" y1="220" x2="350" y2="260" class="arrow"/>
  <line x1="700" y1="220" x2="1050" y2="260" class="arrow"/>
  
  <!-- ç¤¾åŒºèšç±»æµç¨‹ -->
  <line x1="350" y1="340" x2="120" y2="380" class="arrow"/>
  <line x1="120" y1="440" x2="290" y2="380" class="arrow"/>
  <line x1="290" y1="440" x2="460" y2="380" class="arrow"/>
  <line x1="460" y1="440" x2="620" y2="380" class="arrow"/>
  <line x1="620" y1="440" x2="460" y2="480" class="arrow"/>
  
  <!-- å†³ç­–ç®­å¤´ -->
  <line x1="460" y1="540" x2="360" y2="580" class="decision-arrow"/>
  <line x1="460" y1="540" x2="510" y2="580" class="decision-arrow"/>
  <line x1="360" y1="630" x2="430" y2="670" class="arrow"/>
  <line x1="510" y1="630" x2="430" y2="670" class="arrow"/>
  
  <!-- PCAæµç¨‹ -->
  <line x1="1050" y1="340" x2="820" y2="380" class="arrow"/>
  <line x1="820" y1="440" x2="960" y2="380" class="arrow"/>
  <line x1="960" y1="440" x2="1120" y2="380" class="decision-arrow"/>
  <line x1="960" y1="440" x2="1290" y2="380" class="decision-arrow"/>
  <line x1="1120" y1="440" x2="1120" y2="480" class="arrow"/>
  <line x1="1290" y1="440" x2="1290" y2="480" class="arrow"/>
  <line x1="1120" y1="530" x2="1180" y2="570" class="arrow"/>
  <line x1="1290" y1="530" x2="1180" y2="570" class="arrow"/>
  
  <!-- æ¨¡å—é—´è¿æ¥ -->
  <line x1="430" y1="720" x2="1050" y2="340" class="arrow" stroke="#01579b" stroke-width="3"/>
  
  <!-- å†³ç­–æ ‡ç­¾ -->
  <text x="380" y="560" class="small-text" fill="#f57f17">æ˜¯</text>
  <text x="530" y="560" class="small-text" fill="#f57f17">å¦</text>
  <text x="1040" y="400" class="small-text" fill="#f57f17">æ˜¯</text>
  <text x="1200" y="400" class="small-text" fill="#f57f17">å¦</text>
  
</svg>
